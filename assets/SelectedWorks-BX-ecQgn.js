import{r,M as W,j as s,i as q,u as k,P as B,a as F,b as U,L as G,m as E}from"./index-ZkO31eiW.js";function P(e,i){if(typeof e=="function")return e(i);e!=null&&(e.current=i)}function H(...e){return i=>{let t=!1;const o=e.map(a=>{const n=P(a,i);return!t&&typeof n=="function"&&(t=!0),n});if(t)return()=>{for(let a=0;a<o.length;a++){const n=o[a];typeof n=="function"?n():P(e[a],null)}}}}function V(...e){return r.useCallback(H(...e),e)}class Y extends r.Component{getSnapshotBeforeUpdate(i){const t=this.props.childRef.current;if(t&&i.isPresent&&!this.props.isPresent){const o=t.offsetParent,a=q(o)&&o.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=a-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function N({children:e,isPresent:i,anchorX:t,root:o}){const a=r.useId(),n=r.useRef(null),h=r.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:v}=r.useContext(W),g=V(n,e?.ref);return r.useInsertionEffect(()=>{const{width:l,height:d,top:c,left:u,right:m}=h.current;if(i||!n.current||!l||!d)return;const y=t==="left"?`left: ${u}`:`right: ${m}`;n.current.dataset.motionPopId=a;const f=document.createElement("style");v&&(f.nonce=v);const C=o??document.head;return C.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${c}px !important;
          }
        `),()=>{C.contains(f)&&C.removeChild(f)}},[i]),s.jsx(Y,{isPresent:i,childRef:n,sizeRef:h,children:r.cloneElement(e,{ref:g})})}const D=({children:e,initial:i,isPresent:t,onExitComplete:o,custom:a,presenceAffectsLayout:n,mode:h,anchorX:v,root:g})=>{const l=k(K),d=r.useId();let c=!0,u=r.useMemo(()=>(c=!1,{id:d,initial:i,isPresent:t,custom:a,onExitComplete:m=>{l.set(m,!0);for(const y of l.values())if(!y)return;o&&o()},register:m=>(l.set(m,!1),()=>l.delete(m))}),[t,l,o]);return n&&c&&(u={...u}),r.useMemo(()=>{l.forEach((m,y)=>l.set(y,!1))},[t]),r.useEffect(()=>{!t&&!l.size&&o&&o()},[t]),h==="popLayout"&&(e=s.jsx(N,{isPresent:t,anchorX:v,root:g,children:e})),s.jsx(B.Provider,{value:u,children:e})};function K(){return new Map}const j=e=>e.key||"";function z(e){const i=[];return r.Children.forEach(e,t=>{r.isValidElement(t)&&i.push(t)}),i}const X=({children:e,custom:i,initial:t=!0,onExitComplete:o,presenceAffectsLayout:a=!0,mode:n="sync",propagate:h=!1,anchorX:v="left",root:g})=>{const[l,d]=F(h),c=r.useMemo(()=>z(e),[e]),u=h&&!l?[]:c.map(j),m=r.useRef(!0),y=r.useRef(c),f=k(()=>new Map),[C,L]=r.useState(c),[w,S]=r.useState(c);U(()=>{m.current=!1,y.current=c;for(let x=0;x<w.length;x++){const p=j(w[x]);u.includes(p)?f.delete(p):f.get(p)!==!0&&f.set(p,!1)}},[w,u.length,u.join("-")]);const R=[];if(c!==C){let x=[...c];for(let p=0;p<w.length;p++){const b=w[p],I=j(b);u.includes(I)||(x.splice(p,0,b),R.push(b))}return n==="wait"&&R.length&&(x=R),S(z(x)),L(c),null}const{forceRender:A}=r.useContext(G);return s.jsx(s.Fragment,{children:w.map(x=>{const p=j(x),b=h&&!l?!1:c===w||u.includes(p),I=()=>{if(f.has(p))f.set(p,!0);else return;let M=!0;f.forEach($=>{$||(M=!1)}),M&&(A?.(),S(y.current),h&&d?.(),o&&o())};return s.jsx(D,{isPresent:b,initial:!m.current||t?void 0:!1,custom:i,presenceAffectsLayout:a,mode:n,root:g,onExitComplete:b?void 0:I,anchorX:v,children:x},p)})})},_=({title:e,category:i,videoUrl:t,placeholderImage:o})=>{const a=r.useRef(null),[n,h]=r.useState(!1),g=(d=>{const c=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,u=d?.match(c);return u&&u[2].length===11?u[2]:null})(t),l=!!g;return s.jsx(E.div,{className:"project-card",style:{position:"relative",cursor:"pointer",overflow:"hidden",borderRadius:"4px"},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),whileHover:{scale:1.02},transition:{duration:.4},children:s.jsxs("div",{style:{position:"relative",aspectRatio:"16/9",background:"#111"},children:[l?n&&s.jsx("iframe",{src:`https://www.youtube.com/embed/${g}?autoplay=1&mute=1&controls=0&modestbranding=1&loop=1&playlist=${g}`,title:e,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,border:"none",pointerEvents:"none"},allow:"autoplay; encrypted-media"}):s.jsx("video",{ref:a,src:t,muted:!0,loop:!0,playsInline:!0,onMouseEnter:d=>d.target.play(),onMouseLeave:d=>{d.target.pause(),d.target.currentTime=0},style:{width:"100%",height:"100%",objectFit:"cover",opacity:n?1:0,transition:"opacity 0.3s ease"}}),s.jsx("img",{src:o,alt:e,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",opacity:n?0:1,transition:"opacity 0.3s ease",zIndex:1}}),s.jsxs("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",padding:"20px",background:"linear-gradient(to top, rgba(0,0,0,0.8), transparent)",pointerEvents:"none",zIndex:2},children:[s.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"4px",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:e}),s.jsx("span",{style:{fontSize:"0.9rem",color:"#ccc",textTransform:"uppercase",letterSpacing:"1px"},children:i})]})]})})},T=[{title:"Neon Genesis",category:"Simulation",videoUrl:"https://www.youtube.com/watch?v=ScMzIvxBSi4",placeholderImage:"https://images.unsplash.com/photo-1635322966219-b75ed3a90122?auto=format&fit=crop&q=80&w=1600"},{title:"Ethereal Glass",category:"Abstract/Art",videoUrl:"https://www.youtube.com/watch?v=WhWc3b3KhnY",placeholderImage:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=1600"},{title:"Metallic Core",category:"Product TVC",videoUrl:"https://www.youtube.com/watch?v=wXIXF4rR1_g",placeholderImage:"https://images.unsplash.com/photo-1634152962476-4b8a00e1915c?auto=format&fit=crop&q=80&w=1600"},{title:"Liquid Gold",category:"Simulation",videoUrl:"https://www.youtube.com/watch?v=mN0zPOpADL4",placeholderImage:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=1600&hue=50"},{title:"Tech Reveal",category:"Product TVC",videoUrl:"https://www.youtube.com/watch?v=YE7VzlLtp-4",placeholderImage:"https://images.unsplash.com/photo-1542831371-29b0f74f9713?auto=format&fit=crop&q=80&w=1600"}],O=["All","Product TVC","Abstract/Art","Simulation"],Q=()=>{const[e,i]=r.useState("All"),t=e==="All"?T:T.filter(o=>o.category===e);return s.jsx("section",{style:{padding:"120px 0",background:"var(--bg-color)",position:"relative",zIndex:10},children:s.jsxs("div",{className:"container",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"end",marginBottom:"60px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px"},children:[s.jsx("h2",{style:{fontSize:"1rem",textTransform:"uppercase",letterSpacing:"2px",color:"var(--text-secondary)",margin:0},children:"Gallery of Motion"}),s.jsx("div",{style:{display:"flex",gap:"20px"},children:O.map(o=>s.jsx("button",{onClick:()=>i(o),style:{fontSize:"0.9rem",color:e===o?"var(--text-primary)":"var(--text-secondary)",fontWeight:e===o?600:400,cursor:"pointer",textTransform:"uppercase",transition:"color 0.2s"},children:o},o))})]}),s.jsx(E.div,{layout:!0,style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(450px, 1fr))",gap:"40px"},children:s.jsx(X,{children:t.map((o,a)=>s.jsx(E.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:s.jsx(_,{...o})},o.title))})})]})})};export{Q as default};
