import{r,M as $,j as n,i as W,u as L,P as q,a as B,b as F,L as U,m as I,c as H}from"./index-pfPKEWUv.js";function M(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function V(...t){return s=>{let o=!1;const i=t.map(a=>{const e=M(a,s);return!o&&typeof e=="function"&&(o=!0),e});if(o)return()=>{for(let a=0;a<i.length;a++){const e=i[a];typeof e=="function"?e():M(t[a],null)}}}}function Y(...t){return r.useCallback(V(...t),t)}class G extends r.Component{getSnapshotBeforeUpdate(s){const o=this.props.childRef.current;if(o&&s.isPresent&&!this.props.isPresent){const i=o.offsetParent,a=W(i)&&i.offsetWidth||0,e=this.props.sizeRef.current;e.height=o.offsetHeight||0,e.width=o.offsetWidth||0,e.top=o.offsetTop,e.left=o.offsetLeft,e.right=a-e.width-e.left}return null}componentDidUpdate(){}render(){return this.props.children}}function N({children:t,isPresent:s,anchorX:o,root:i}){const a=r.useId(),e=r.useRef(null),d=r.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:w}=r.useContext($),g=Y(e,t?.ref);return r.useInsertionEffect(()=>{const{width:l,height:f,top:c,left:u,right:m}=d.current;if(s||!e.current||!l||!f)return;const x=o==="left"?`left: ${u}`:`right: ${m}`;e.current.dataset.motionPopId=a;const h=document.createElement("style");w&&(h.nonce=w);const C=i??document.head;return C.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${c}px !important;
          }
        `),()=>{C.contains(h)&&C.removeChild(h)}},[s]),n.jsx(G,{isPresent:s,childRef:e,sizeRef:d,children:r.cloneElement(t,{ref:g})})}const D=({children:t,initial:s,isPresent:o,onExitComplete:i,custom:a,presenceAffectsLayout:e,mode:d,anchorX:w,root:g})=>{const l=L(K),f=r.useId();let c=!0,u=r.useMemo(()=>(c=!1,{id:f,initial:s,isPresent:o,custom:a,onExitComplete:m=>{l.set(m,!0);for(const x of l.values())if(!x)return;i&&i()},register:m=>(l.set(m,!1),()=>l.delete(m))}),[o,l,i]);return e&&c&&(u={...u}),r.useMemo(()=>{l.forEach((m,x)=>l.set(x,!1))},[o]),r.useEffect(()=>{!o&&!l.size&&i&&i()},[o]),d==="popLayout"&&(t=n.jsx(N,{isPresent:o,anchorX:w,root:g,children:t})),n.jsx(q.Provider,{value:u,children:t})};function K(){return new Map}const j=t=>t.key||"";function P(t){const s=[];return r.Children.forEach(t,o=>{r.isValidElement(o)&&s.push(o)}),s}const X=({children:t,custom:s,initial:o=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:e="sync",propagate:d=!1,anchorX:w="left",root:g})=>{const[l,f]=B(d),c=r.useMemo(()=>P(t),[t]),u=d&&!l?[]:c.map(j),m=r.useRef(!0),x=r.useRef(c),h=L(()=>new Map),[C,T]=r.useState(c),[b,E]=r.useState(c);F(()=>{m.current=!1,x.current=c;for(let y=0;y<b.length;y++){const p=j(b[y]);u.includes(p)?h.delete(p):h.get(p)!==!0&&h.set(p,!1)}},[b,u.length,u.join("-")]);const R=[];if(c!==C){let y=[...c];for(let p=0;p<b.length;p++){const v=b[p],k=j(v);u.includes(k)||(y.splice(p,0,v),R.push(v))}return e==="wait"&&R.length&&(y=R),E(P(y)),T(c),null}const{forceRender:_}=r.useContext(U);return n.jsx(n.Fragment,{children:b.map(y=>{const p=j(y),v=d&&!l?!1:c===b||u.includes(p),k=()=>{if(h.has(p))h.set(p,!0);else return;let S=!0;h.forEach(A=>{A||(S=!1)}),S&&(_?.(),E(x.current),d&&f?.(),i&&i())};return n.jsx(D,{isPresent:v,initial:!m.current||o?void 0:!1,custom:s,presenceAffectsLayout:a,mode:e,root:g,onExitComplete:v?void 0:k,anchorX:w,children:y},p)})})},O=({title:t,category:s,videoUrl:o,placeholderImage:i})=>{const a=r.useRef(null),[e,d]=r.useState(!1),g=(f=>{const c=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,u=f?.match(c);return u&&u[2].length===11?u[2]:null})(o),l=!!g;return n.jsx(I.div,{className:"project-card",style:{position:"relative",cursor:"pointer",overflow:"hidden",borderRadius:"4px"},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),whileHover:{scale:1.02},transition:{duration:.4},children:n.jsxs("div",{style:{position:"relative",aspectRatio:"16/9",background:"#111"},children:[l?e&&n.jsx("iframe",{src:`https://www.youtube.com/embed/${g}?autoplay=1&mute=1&controls=0&modestbranding=1&loop=1&playlist=${g}`,title:t,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,border:"none",pointerEvents:"none"},allow:"autoplay; encrypted-media"}):n.jsx("video",{ref:a,src:o,muted:!0,loop:!0,playsInline:!0,onMouseEnter:f=>f.target.play(),onMouseLeave:f=>{f.target.pause(),f.target.currentTime=0},style:{width:"100%",height:"100%",objectFit:"cover",opacity:e?1:0,transition:"opacity 0.3s ease"}}),n.jsx("img",{src:i,alt:t,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",opacity:e?0:1,transition:"opacity 0.3s ease",zIndex:1}}),n.jsxs("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",padding:"20px",background:"linear-gradient(to top, rgba(0,0,0,0.8), transparent)",pointerEvents:"none",zIndex:2},children:[n.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"4px",textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:t}),n.jsx("span",{style:{fontSize:"0.9rem",color:"#ccc",textTransform:"uppercase",letterSpacing:"1px"},children:s})]})]})})},z=[{title:"Neon Genesis",category:"Simulation",videoUrl:"https://www.youtube.com/watch?v=ScMzIvxBSi4",placeholderImage:"https://images.unsplash.com/photo-1635322966219-b75ed3a90122?auto=format&fit=crop&q=80&w=1600"},{title:"Ethereal Glass",category:"Abstract/Art",videoUrl:"https://www.youtube.com/watch?v=WhWc3b3KhnY",placeholderImage:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=1600"},{title:"Metallic Core",category:"Product TVC",videoUrl:"https://www.youtube.com/watch?v=wXIXF4rR1_g",placeholderImage:"https://images.unsplash.com/photo-1634152962476-4b8a00e1915c?auto=format&fit=crop&q=80&w=1600"},{title:"Liquid Gold",category:"Simulation",videoUrl:"https://www.youtube.com/watch?v=mN0zPOpADL4",placeholderImage:"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=1600&hue=50"},{title:"Tech Reveal",category:"Product TVC",videoUrl:"https://www.youtube.com/watch?v=YE7VzlLtp-4",placeholderImage:"https://images.unsplash.com/photo-1542831371-29b0f74f9713?auto=format&fit=crop&q=80&w=1600"}],Q=()=>{const{t}=H(),[s,o]=r.useState("All"),i=[{key:"All",label:t("works_category_all")},{key:"Product TVC",label:t("works_category_product")},{key:"Abstract/Art",label:t("works_category_abstract")},{key:"Simulation",label:t("works_category_simulation")}],a=s==="All"?z:z.filter(e=>e.category===s);return n.jsx("section",{style:{padding:"120px 0",background:"var(--bg-color)",position:"relative",zIndex:10},children:n.jsxs("div",{className:"container",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"end",marginBottom:"60px",borderBottom:"1px solid var(--border-color)",paddingBottom:"20px"},children:[n.jsx("h2",{style:{fontSize:"1rem",textTransform:"uppercase",letterSpacing:"2px",color:"var(--text-secondary)",margin:0},children:t("works_heading")}),n.jsx("div",{style:{display:"flex",gap:"20px"},children:i.map(e=>n.jsx("button",{onClick:()=>o(e.key),style:{fontSize:"0.9rem",color:s===e.key?"var(--text-primary)":"var(--text-secondary)",fontWeight:s===e.key?600:400,cursor:"pointer",textTransform:"uppercase",transition:"color 0.2s"},children:e.label},e.key))})]}),n.jsx(I.div,{layout:!0,style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(450px, 1fr))",gap:"40px"},children:n.jsx(X,{children:a.map((e,d)=>n.jsx(I.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:n.jsx(O,{...e})},e.title))})})]})})};export{Q as default};
